<!DOCTYPE html>
<html>

	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<title>Upload Pins & Needles Comedy Logo</title>
	<style>
		:root { color-scheme: light dark; }
		body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, "Helvetica Neue", Arial, "Noto Sans", sans-serif; margin: 0; padding: 32px; }
		.container { max-width: 720px; margin: 0 auto; }
		h1 { margin: 0 0 16px; font-size: 24px; }
		.box { background: rgba(0,0,0,0.04); padding: 16px; border-radius: 12px; margin-bottom: 16px; }
		.drop { border: 2px dashed #888; border-radius: 12px; padding: 24px; text-align: center; transition: background 0.2s, border-color 0.2s; }
		.drop.dragover { background: rgba(0,0,0,0.06); border-color: #000; }
		.row { display: flex; gap: 12px; align-items: center; }
		.preview { max-width: 200px; max-height: 200px; border-radius: 8px; border: 1px solid rgba(0,0,0,0.1); }
		button { background: #111; color: white; border: 0; padding: 10px 16px; border-radius: 8px; cursor: pointer; }
		button[disabled] { opacity: .6; cursor: not-allowed; }
		code { background: rgba(0,0,0,0.08); padding: 2px 6px; border-radius: 4px; }
		.success { color: #0a7c2f; }
		.error { color: #b30000; }
	</style>
</head>
<body>
	<div class="container">
		<h1>ðŸ“¸ Upload Pins &amp; Needles Comedy Logo</h1>
		<p>Drop a PNG/JPG/SVG file here. It will be saved as <code>/public/logo.&lt;ext&gt;</code> and used across the app.</p>

		<div id="drop" class="drop">Drop image here or click to chooseâ€¦</div>
		<input id="file" type="file" accept="image/png,image/jpeg,image/svg+xml" style="display:none" />

		<div class="box">
			<div class="row">
				<img id="preview" class="preview" alt="preview" />
				<div>
					<div id="meta"></div>
					<div id="status" style="margin: 8px 0 12px;"></div>
					<button id="upload" disabled>Upload</button>
				</div>
			</div>
		</div>

		<p>Once uploaded, the logo appears at the login screen, header, and favicon. You can visit <a href="/">home page</a> to verify.</p>
	</div>

	<script>
		const drop = document.getElementById('drop');
		const fileInput = document.getElementById('file');
		const preview = document.getElementById('preview');
		const meta = document.getElementById('meta');
		const statusEl = document.getElementById('status');
		const uploadBtn = document.getElementById('upload');

		let selectedFile = null;

		const choose = () => fileInput.click();
		drop.addEventListener('click', choose);
		drop.addEventListener('dragover', (e) => { e.preventDefault(); drop.classList.add('dragover'); });
		drop.addEventListener('dragleave', () => drop.classList.remove('dragover'));
		drop.addEventListener('drop', (e) => {
			e.preventDefault();
			drop.classList.remove('dragover');
			if (e.dataTransfer.files && e.dataTransfer.files[0]) handleFile(e.dataTransfer.files[0]);
		});
		fileInput.addEventListener('change', () => {
			if (fileInput.files && fileInput.files[0]) handleFile(fileInput.files[0]);
		});

		function handleFile(file) {
			if (!/^image\/(png|jpeg|svg\+xml)$/.test(file.type)) {
				statusEl.textContent = 'Unsupported file type';
				statusEl.className = 'error';
				return;
			}
			selectedFile = file;
			const reader = new FileReader();
			reader.onload = () => {
				preview.src = reader.result;
				const sizeMB = (file.size / (1024*1024)).toFixed(2);
				meta.textContent = `${file.name} â€¢ ${file.type} â€¢ ${sizeMB} MB`;
				uploadBtn.disabled = false;
				statusEl.textContent = '';
			};
			reader.readAsDataURL(file);
		}

		uploadBtn.addEventListener('click', async () => {
			if (!preview.src) return;
			uploadBtn.disabled = true;
			statusEl.textContent = 'Uploadingâ€¦';
			statusEl.className = '';
			try {
				const res = await fetch('/api/upload-logo', {
					method: 'POST',
					headers: { 'Content-Type': 'application/json' },
					body: JSON.stringify({ dataUrl: preview.src }),
				});
				const json = await res.json();
				if (!json.ok) throw new Error(json.error || 'Upload failed');
				statusEl.textContent = `Uploaded âœ“ Saved as ${json.savedAs} (${json.bytes} bytes).`;
				statusEl.className = 'success';
			} catch (e) {
				statusEl.textContent = 'Error: ' + (e && e.message ? e.message : e);
				statusEl.className = 'error';
			} finally {
				uploadBtn.disabled = false;
			}
		});
	</script>
</body>
</html>
/Users/taylordrew/Downloads/logo.pnghttps://file+.vscode-resource.vscode-cdn.net/Users/taylordrew/Downloads/logo.png?version%3D1760549244708